<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Qunit tests</title>

    <link rel="stylesheet" type="text/css" href="dist/jquery.wquerybuilder.css">
    <link rel="stylesheet" type="text/css" href="lib/qunit-1.14.0.css">
</head>

<body>

    <!-------------------------------------------------------------------------------->
    <!-- And here is where the magic happens, use it like a theme on your-self page -->
    <!-------------------------------------------------------------------------------->
    <div id="querybuilder">
        <div class="wquerybuilder wcol-12">
            <div class="wcol wcol-3">
                <fieldset>
                    <legend>Tables</legend>
                    <select size="22" name="wtables"></select>
                </fieldset>
            </div>
            <div class="wcol wcol-3">
                <fieldset>
                    <legend>Columns</legend>
                    <select size="22" name="wcolumns" multiple="multiple"></select>
                </fieldset>
            </div>
            <div class="wcol wcol-6">
                <div class="wcol wcol-6">
                    <fieldset>
                        <legend>Display the first</legend>
                        <input type="number" placeholder="1000" name="wtop" /><br />
                        <input type="radio" name="wtoptype" id="wrecords" value="1" checked="checked" /> <label for="wrecords">records</label> <br />
                        <input type="radio" name="wtoptype" id="wpercent" value="0" /> <label for="wpercent">percent of records</label>
                    </fieldset>
                </div>
                <div class="wcol wcol-6">
                    <fieldset>
                        <legend>Order by</legend>
                        <select name="worderby"></select><br />
                        <input type="radio" name="worderbytype" id="wasc" value="true" checked="checked" /> <label for="wasc">Ascending</label> <br />
                        <input type="radio" name="worderbytype" id="wdesc" value="false" /> <label for="wdesc">Descending</label>
                    </fieldset>
                </div>
            </div>
            <div class="wcol wcol-6">
                <fieldset>
                    <legend>Group by</legend>
                    <select name="wgroupby"></select><br />
                </fieldset>
            </div>

            <div class="wcol wcol-6">
                <fieldset>
                    <legend>Spare column</legend>

                    <div class="wcol wcol-12">
                        <div class="wcol wcol-6">
                            <div class="wcol wcol-12">
                                <label>Column name</label><br />
                                <input type="text" placeholder="Column name" name="wsparename" />
                            </div>
                            <div class="wcol wcol-12">
                                <br />
                                <label>Column content</label>
                                <select name="wcolumncontent"></select>
                            </div>
                            <div class="wcol wcol-12">
                                <br />
                                <label>Aggregate functions</label>
                                <select name="waggregate">
                                    <option></option>
                                    <option value="DAY">Day</option>
                                    <option value="MONTH">Month</option>
                                    <option value="YEAR">Year</option>
                                    <option value="FORMAT" data-format="yyyy/mm/dd">Date</option>
                                    <option value="FORMAT" data-format="yyyy/mm">Year/Month</option>
                                    <option value="COUNT">Count</option>
                                    <option value="SUM">Sum</option>
                                    <option value="AVERAGE">Average</option>
                                </select>
                            </div>
                            <div class="wcol wcol-12">
                                <br />
                                <input type="button" value="Create column" name="wcreatespare" />
                            </div>
                        </div>

                        <div class="wcol wcol-6">
                            <fieldset class="winvisible">
                                <div class="wcol wcol-12">
                                    <label>Created spare columns</label>
                                    <select size="8" name="wspares" multiple="multiple"></select>
                                </div>
                                <div class="wcol wcol-12">
                                    <br />
                                    <input type="button" value="Delete column" name="wdeletespare" />
                                    <input type="button" value="Delete all" name="wdeleteallspare" class="fr" />
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="wcol wcol-12">
                <fieldset>
                    <legend>Selection of records / Union tables</legend>
                    <div class="wcol wcol-12">
                        <fieldset class="winvisible">
                            <input type="radio" name="union" id="wfilter" /> <label for="wfilter">Create filter</label>
                            <input type="radio" name="union" id="wunion" /> <label for="wunion">Union tables</label>
                            <br /><br />
                        </fieldset>
                    </div>
                    <div class="wcol wcol-4">
                        <fieldset class="winvisible">
                            <label>Column</label>
                            <select name="wcolumnunion"></select>
                        </fieldset>
                    </div>
                    <div class="wcol wcol-4">
                        <fieldset class="winvisible">
                            <label>Operator</label>
                            <select>
                                <option>=</option>
                                <option><></option>
                                <option>></option>
                                <option>>=</option>
                                <option><</option>
                                <option><=</option>
                                <option>$</option>
                                <option>!$</option>
                            </select>
                        </fieldset>
                    </div>
                    <div class="wcol wcol-4">
                        <fieldset class="winvisible">
                            <label>Value</label><br>
                            <input type="text" /><br />
                        </fieldset>
                    </div>
                    <div class="wcol wcol-12">
                        <br />
                        <input type="button" value="Create" />
                    </div>
                </fieldset>
            </div>
            <div class="wcol wcol-12">
                <fieldset>
                    <legend>SQL Result</legend>
                    <input type="button" value="Clear all" name="wclearall" /> <input type="button" value="Clear WHERE clause" />
                    <textarea rows="8" disabled= disabled name="wresult">Result of created query</textarea>
                </fieldset>
            </div>
            <div style="clear:both;"></div>
        </div>
    </div>
    <!----------------------- /And here is where the magic ends ---------------------->


    <div id="qunit"></div>
    <div id="qunit-fixture"></div>
    <script src="lib/qunit-1.14.0.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="dist/squel.min.js"></script>
    <script src="dist/underscore-min.js"></script>
    <script type="text/javascript" src="dist/jquery.wquerybuilder.js"></script>
    <script type="text/javascript" src="spec/jquery.wquerybuilder.spec.js"></script>
    <script>
        // Calling query builder
        $(function () {
            var obj = {
                Users: ["Id", "FullName", "Username", "Email", "Location", "Country", "ZIP", "Phone"],
                Products: ["Id", "Name", "Type", "Weight", "Size", "Factory", "Height", "Area"],
                Storage: ["ProductId", "Qtd"],
            };
            $("#querybuilder").wquerybuilder({ data: obj });
        });
    </script>
</body>
</html>
